<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // GitHub Pages SPA redirect handler for subdirectories
    // This handles 404s for SPAs deployed in subdirectories like /tanakh-deploy

    (function() {
      var l = window.location;
      var path = l.pathname;

      // Check if this is a tanakh-deploy URL
      if (path.startsWith('/tanakh-deploy/') && path !== '/tanakh-deploy/') {
        // Extract the path after /tanakh-deploy/
        var segments = path.split('/').slice(2); // Skip '' and 'tanakh-deploy'
        var appPath = segments.join('/');

        // Redirect to /tanakh-deploy/?/{path}
        var redirect = l.protocol + '//' + l.hostname +
                      (l.port ? ':' + l.port : '') +
                      '/tanakh-deploy/?/' + appPath +
                      (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
                      l.hash;

        l.replace(redirect);
      } else {
        // For other 404s, show a simple message
        document.write('<style>body{font-family:Arial,sans-serif;text-align:center;padding:50px;}</style>');
        document.write('<h1>404 - Page Not Found</h1>');
        document.write('<p>The page you are looking for does not exist.</p>');
        document.write('<p><a href="/">Go to homepage</a></p>');
      }
    })();
  </script>
</head>
<body>
  <!-- Content will be injected by script above -->
</body>
</html>
