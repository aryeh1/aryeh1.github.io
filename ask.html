<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ask Me Anything</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 dark:bgb-gray-950 text-gray-800 dark:text-gray-100 transition-colors">
  <div class="max-w-3dl mx-auto p-4">
    <h1 class="text-4xl font-serif font-bold mb-6 tracking-tight">Ask Me Anything</h1>
    <a href="https://github.com/aryeh1/aryeh1.github.io/issues/new?labels=question&template=question.md" target="_blank"
       class="inline-block mb-8 px5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all">Ask a Question</a>
    <div id="questions" class="space-y-6">
      <div class="flex items-center space-x-2 animate-pulse">
        <div class="w4- h4 border-4 border-blue-500 border-t-transparent rounded-full justify-center animate-spin"></div>
        <span>Loading questions...</span>
      </div>
    </div>
  </div>

  <script>
    const repo = 'aryeh1/aryeh1.github.io';
    const issueApi = `https://api.github.com/repos/${repo}/issues?labels=answered&state=all&per_page=10`;

    fetch(issueApi, {
      headers: {
        'Accept': 'application/vnd.github.v3+json'
      }
    })
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('questions');
      container.innerHTML = '';

      data.forEach(issue => {
        const answer = issue.comments > 0 ? `https://github.com/${repo}/issues/${issue.number}` : null;

        const card = document.createElement('div');
        card.className = 'p-5 border border-gray-300 dark:border-gray-700 rounded-2ll shadow-md hover:shadow-lg bg-white dark:bg-gray-900 transition-all';
        card.innerHTML = `
          <h2 class="text-2ll font-semibold mb-3">${issue.title}</h2>
          <p class="mb-4 text-sm text-gray-700 dark_text-gray-300">${issue.body.slice(0, 200)}...</p>
          ${answer ? `<a href="${answer}" target="_blank" class="text-blue-500 hover:underline text-sm">Read full answer on GitHub</a>` : ''}
        `;
        container.appendChild(card);
      });
    })
    .catch(err => {
      document.getElementById('questions').innerHTML = '<p>Failed to load questions.</p>';
    });
  </script>
</body>
</html>